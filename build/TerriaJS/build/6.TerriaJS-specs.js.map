{"version":3,"sources":["webpack:///./lib/ReactViews/Tools/DiffTool/DiffTool.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/DatePicker.tsx","webpack:///./lib/ReactViews/Tools/DiffTool/LocationPicker.tsx","webpack:///./wwwroot/images/difference-pin.png"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_class3","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_class4","_class5","_descriptor4","_descriptor5","_descriptor6","_styledComponents","_interopRequireWildcard","_hoistNonReactStatics","_interopRequireDefault","_mobx","_mobxReact","_react","_reactDom","_reactI18next","_Cartographic","_createGuid","_Math","_SplitDirection","_filterOutUndefined","_isDefined","_prettifyCoordinates2","_DiffableMixin","_MappableMixin","_CommonStrata","_hasTraits","_LocationMarkerUtils","_SplitItemReference","_Box","_Button","_Select","_Spacing","_Text","_ImageryProviderTraits","_parseCustomMarkdownToReact","_Icon","_Loader","_DatePicker","_LocationPicker","_registerMapNavigations","_updateModelFromJson","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_regeneratorRuntime","c","asyncIterator","toStringTag","define","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","awrap","async","Promise","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","err","undefined","_initializerDefineProperty","target","property","descriptor","context","initializer","_classCallCheck","instance","Constructor","_defineProperties","props","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","bind","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","toPrimitive","String","Number","_toPrimitive","_applyDecoratedDescriptor","decorators","desc","reduce","decorator","dateFormat","DiffTool","action","bound","observer","_React$Component","_createSplitterItems","_super","_this","makeObservable","userSelectedSourceItem","sourceItem","_callee","_yield$Promise$all","_yield$Promise$all2","leftItem","rightItem","_this2","_context","all","createSplitItem","LEFT","RIGHT","runInAction","t0","removeSplitItem","_this3","splitterItemsDisposer","reaction","removeSplitterItems","createSplitterItems","fireImmediately","viewState","terria","originalSettings","showSplitter","isMapFullScreen","setIsMapFullScreen","setTrait","user","mapNavigationModel","show","CLOSE_TOOL_ID","elements","visible","closeTool","findItem","controller","activate","_this$splitterItemsDi","hide","deactivate","enterDiffTool","leaveDiffTool","jsx","Main","theme","changeSourceItem","Component","observable","computed","_React$Component2","_setLocationFromActiveSearch","_super2","_this4","createRef","_locationPickError","title","beforePick","afterPick","location","longitude","latitude","digits","firstDate","leftDate","secondDate","rightDate","format","d1","d2","concat","workbench","items","item","isMixedInto","canDiffImages","_this$diffItem$styleS","_this$diffItem$styleS2","diffItem","styleSelectableDimensions","selectedId","diffStyleId","_this5","availableDiffStyles","map","_this5$diffItem$style","_this5$diffItem$style2","_this5$diffItem$style3","options","find","style","id","currentDiscreteJulianDate","diffStyle","getLegendUrlForStyle","previewStyle","model","hasOpacity","newSourceItem","diffableItemsInWorkbench","uniqueId","_this$props$leftItem$","_this$props$leftItem$2","_this$props$rightItem","_this$props$rightItem2","styleId","setDimensionValue","_pickingLocation","_isPickingNewLocation","pickedFeatures","pickedLocation","_this$props","feature","features","doesFeatureBelongToItem","setTimeFilterFeature","providerCoords","_this$props2","hideItem","overlays","remove","add","diffItemName","showDiffImage","diffItemProperties","clearDiffImage","setDefaultDiffStyle","_callee2","markerLocation","part","imageryProvider","promises","_this6","_context2","getMarkerLocation","mapItems","ImageryParts","is","setTimeFilterFromLocation","some","ok","removeMarker","_this7","_this7$diffItem$timeF","timeFilterCoordinates","height","setLocationFromActiveSearch","_this$diffItem$styleS3","_this$diffItem$styleS4","_this$diffItem$styleS5","_this8","_this$props3","isShowingDiff","datesSelected","isReadyToGenerateDiff","jsxs","large","children","DiffAccordion","MainPanel","styledMaxHeight","bottomDockHeight","Fragment","centered","left","_StyledBackButton","transparentBg","onClick","resetTool","$_css","textLight","$_css2","BoxSpan","_StyledStyledIcon","light","styledWidth","glyph","GLYPHS","arrowDown","TextSpan","noFontSize","bottom","medium","LocationAndDatesDisplayBox","textLightDimmed","small","column","alignItemsFlexStart","RawButton","ref","openLeftDatePickerButton","isLink","openRightDatePickerButton","unsetDates","Selector","onChange","label","disabled","spacingBottom","changePreviewStyle","previewLegendUrl","LegendImage","width","src","changeDiffStyle","diffLegendUrl","GenerateButton","generateDiff","CloseDifferenceButton","primary","rounded","textProps","semiBold","extraLarge","activeStyles","renderIcon","StyledIcon","closeLight","iconProps","css","onPicking","onUserPickingLocation","onPicked","onUserPickLocation","createPortal","fullWidth","flexWrap","backgroundColor","dark","heading","externalOpenButton","onDateSet","showItem","AreaFilterSelection","isPickingNewLocation","document","getElementById","DiffAccordionToggle","withConfig","componentId","_ref","borderRadiusTop","radius40Button","_useState2","useState","showChildren","setShowChildren","useTheme","DiffAccordionWrapper","paddedVertically","paddedHorizontally","justifySpaceBetween","colorSecondary","difference","right","styledFontSize","styledLineHeight","_StyledBox","$_css3","uppercase","paddedRatio","opened","closed","attrs","position","parseInt","workbenchWidth","overflowY","_ref2","borderRadiusBottom","darkWithOverlay","BackButton","secondary","splitter","_StyledText","$_css4","parseCustomMarkdownToReactWithOptions","injectTermsAsTooltips","tooltipTerms","configParameters","helpContentTerms","locationText","_prettifyCoordinates","_StyledBox2","styledMinWidth","location2","styledMinHeight","_StyledText2","extraExtraLarge","bold","message","textAlignCenter","charcoalGreyBg","display","marginTop","onLoad","currentTarget","onError","_x","_x2","_createSplitItem","_callee3","splitDirection","_context3","addModel","loadReference","_newItem$styleSelecta","_newItem$styleSelecta2","_newItem$styleSelecta3","newItem","featureInfoTemplate","template","_newItem$styleSelecta4","_newItem$styleSelecta5","trueColor","search","availableStyles","_item$styleSelectable","_item$styleSelectable2","_item$styleSelectable3","sourceReference","contains","removeModelReferences","_feature$imageryLayer","imageryLayer","m","im","carto","toRadians","tile","tilingScheme","positionToTileXY","tileCoords","x","level","withTranslation","withTheme","md","_ref3","_JulianDate","_DateFormats","_DateTimePicker","DatePicker","date","toDate","currentDate","formatDateTime","isOpen","stopPropagation","toISOString","moveToPreviousDiscreteTime","moveToNextDiscreteTime","event","setIsOpen","_this$props$externalO","current","addEventListener","onClickExternalButton","_externalOpenButton$c","removeEventListener","registerExternalButtonClick","prevProps","unregisterExternalButtonClick","flex","calendar2","PrevButton","isPreviousDiscreteTimeAvailable","moveToPreviousDate","DateButton","toggleOpen","formattedCurrentDate","NextButton","isNextDiscreteTimeAvailable","moveToNextDate","dates","objectifiedDates","changeCurrentDate","openDirection","onOpen","onClose","PagerButton","colorPrimary","centerWithFlex","_StyledStyledIcon2","borderRadiusLeft","_StyledStyledIcon3","borderRadiusRight","lg","_Ellipsoid","_MapInteractionMode","LocationPicker","pickMode","messageAsNode","uiMode","UIMode","Difference","mode","mapInteractionModeStack","addInteractionModeToMap","showMarker","pickDisposer","newPick","_newPick$allFeaturesA","pickPosition","customUi","cartesian","WGS84","cartesianToCartographic","toDegrees","currentPick","allFeaturesAvailablePromise","_this$pickDisposer","_terria$mapInteractio","removeInteractionModeFromMap","setupPicker","destroyPicker","addMarker","customMarkerIcon","module"],"mappings":"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","file":"6.TerriaJS-specs.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.symbol.async-iterator.js\");\nrequire(\"core-js/modules/es.symbol.to-string-tag.js\");\nrequire(\"core-js/modules/es.json.to-string-tag.js\");\nrequire(\"core-js/modules/es.math.to-string-tag.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\nrequire(\"core-js/modules/es.object.define-properties.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.array.some.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _hoistNonReactStatics = _interopRequireDefault(require(\"hoist-non-react-statics\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _Cartographic = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Cartographic\"));\nvar _createGuid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/createGuid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _SplitDirection = _interopRequireDefault(require(\"terriajs-cesium/Source/Scene/SplitDirection\"));\nvar _filterOutUndefined = _interopRequireDefault(require(\"../../../Core/filterOutUndefined\"));\nvar _isDefined = _interopRequireDefault(require(\"../../../Core/isDefined\"));\nvar _prettifyCoordinates2 = _interopRequireDefault(require(\"../../../Map/Vector/prettifyCoordinates\"));\nvar _DiffableMixin = _interopRequireDefault(require(\"../../../ModelMixins/DiffableMixin\"));\nvar _MappableMixin = _interopRequireWildcard(require(\"../../../ModelMixins/MappableMixin\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _hasTraits = _interopRequireDefault(require(\"../../../Models/Definition/hasTraits\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _SplitItemReference = _interopRequireDefault(require(\"../../../Models/Catalog/CatalogReferences/SplitItemReference\"));\nvar _Box = _interopRequireWildcard(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireWildcard(require(\"../../../Styled/Button\"));\nvar _Select = _interopRequireDefault(require(\"../../../Styled/Select\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _ImageryProviderTraits = _interopRequireDefault(require(\"../../../Traits/TraitsClasses/ImageryProviderTraits\"));\nvar _parseCustomMarkdownToReact = require(\"../../Custom/parseCustomMarkdownToReact\");\nvar _Icon = require(\"../../../Styled/Icon\");\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _DatePicker = _interopRequireDefault(require(\"./DatePicker\"));\nvar _LocationPicker = _interopRequireDefault(require(\"./LocationPicker\"));\nvar _registerMapNavigations = require(\"../../Map/MapNavigation/registerMapNavigations\");\nvar _updateModelFromJson = _interopRequireDefault(require(\"../../../Models/Definition/updateModelFromJson\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _class3, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class4, _class5, _descriptor4, _descriptor5, _descriptor6;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DiffTool = (_dec = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = (_class3 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DiffTool, _React$Component);\n  var _super = _createSuper(DiffTool);\n  function DiffTool(props) {\n    var _this;\n    _classCallCheck(this, DiffTool);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"leftItem\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"rightItem\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"userSelectedSourceItem\", _descriptor3, _assertThisInitialized(_this));\n    _defineProperty(_assertThisInitialized(_this), \"splitterItemsDisposer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"originalSettings\", void 0);\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DiffTool, [{\n    key: \"sourceItem\",\n    get: function get() {\n      return this.userSelectedSourceItem || this.props.sourceItem;\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(sourceItem) {\n      this.userSelectedSourceItem = sourceItem;\n    }\n  }, {\n    key: \"createSplitterItems\",\n    value: function () {\n      var _createSplitterItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n        var _yield$Promise$all, _yield$Promise$all2, leftItem, rightItem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Promise.all([createSplitItem(this.sourceItem, _SplitDirection[\"default\"].LEFT), createSplitItem(this.sourceItem, _SplitDirection[\"default\"].RIGHT)]);\n            case 3:\n              _yield$Promise$all = _context.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              leftItem = _yield$Promise$all2[0];\n              rightItem = _yield$Promise$all2[1];\n              (0, _mobx.runInAction)(function () {\n                _this2.leftItem = leftItem;\n                _this2.rightItem = rightItem;\n              });\n              _context.next = 12;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      function createSplitterItems() {\n        return _createSplitterItems.apply(this, arguments);\n      }\n      return createSplitterItems;\n    }()\n  }, {\n    key: \"removeSplitterItems\",\n    value: function removeSplitterItems() {\n      this.leftItem && removeSplitItem(this.leftItem);\n      this.rightItem && removeSplitItem(this.rightItem);\n    }\n  }, {\n    key: \"enterDiffTool\",\n    value: function enterDiffTool() {\n      var _this3 = this;\n      // Start the reaction that splits the sourceItem into left & right items\n      this.splitterItemsDisposer = (0, _mobx.reaction)(function () {\n        return _this3.sourceItem;\n      }, function () {\n        _this3.removeSplitterItems();\n        _this3.createSplitterItems();\n      }, {\n        fireImmediately: true\n      });\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      this.originalSettings = {\n        showSplitter: terria.showSplitter,\n        isMapFullScreen: viewState.isMapFullScreen\n      };\n      terria.showSplitter = true;\n      viewState.setIsMapFullScreen(true);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", false);\n      terria.mapNavigationModel.show(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: false\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.activate();\n      }\n    }\n  }, {\n    key: \"leaveDiffTool\",\n    value: function leaveDiffTool() {\n      var _this$splitterItemsDi;\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      var originalSettings = this.originalSettings;\n      this.removeSplitterItems();\n      (_this$splitterItemsDi = this.splitterItemsDisposer) === null || _this$splitterItemsDi === void 0 ? void 0 : _this$splitterItemsDi.call(this);\n      terria.showSplitter = originalSettings.showSplitter;\n      viewState.setIsMapFullScreen(originalSettings.isMapFullScreen);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n      terria.mapNavigationModel.hide(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: true\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.deactivate();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.enterDiffTool();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveDiffTool();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.leftItem && this.rightItem) {\n        return /*#__PURE__*/(0, _jsxRuntime.jsx)(Main, _objectSpread(_objectSpread({}, this.props), {}, {\n          theme: this.props.theme,\n          terria: this.props.viewState.terria,\n          sourceItem: this.sourceItem,\n          changeSourceItem: this.changeSourceItem,\n          leftItem: this.leftItem,\n          rightItem: this.rightItem\n        }));\n      } else return null;\n    }\n  }]);\n  return DiffTool;\n}(_react[\"default\"].Component), _defineProperty(_class3, \"toolName\", \"Image Difference\"), _class3), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"leftItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"rightItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"userSelectedSourceItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"sourceItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"sourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeSourceItem\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeSourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"createSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"createSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"removeSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"removeSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"enterDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"enterDiffTool\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"leaveDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"leaveDiffTool\"), _class2.prototype)), _class2)) || _class);\nvar Main = (_dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, _dec7 = _mobx.action.bound, _dec8 = _mobx.action.bound, _dec9 = _mobx.action.bound, (0, _mobxReact.observer)(_class4 = (_class5 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Main, _React$Component2);\n  var _super2 = _createSuper(Main);\n  function Main(props) {\n    var _this4;\n    _classCallCheck(this, Main);\n    _this4 = _super2.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"location\", _descriptor4, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_locationPickError\", _descriptor5, _assertThisInitialized(_this4));\n    _initializerDefineProperty(_assertThisInitialized(_this4), \"_isPickingNewLocation\", _descriptor6, _assertThisInitialized(_this4));\n    _defineProperty(_assertThisInitialized(_this4), \"openLeftDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    _defineProperty(_assertThisInitialized(_this4), \"openRightDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this4));\n    return _this4;\n  }\n  _createClass(Main, [{\n    key: \"locationPickerMessages\",\n    get: function get() {\n      var t = this.props.t;\n      if (this._locationPickError) {\n        return {\n          title: t(\"diffTool.locationPicker.errorMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.errorMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.errorMessages.afterPick\")\n        };\n      } else if (this.location) {\n        return {\n          title: t(\"diffTool.locationPicker.nextMessages.title\", (0, _prettifyCoordinates2[\"default\"])(this.location.longitude, this.location.latitude, {\n            digits: 2\n          })),\n          beforePick: t(\"diffTool.locationPicker.nextMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.nextMessages.afterPick\")\n        };\n      } else {\n        return {\n          title: t(\"diffTool.locationPicker.initialMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.initialMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.initialMessages.afterPick\")\n        };\n      }\n    }\n  }, {\n    key: \"diffItem\",\n    get: function get() {\n      return this.props.leftItem;\n    }\n  }, {\n    key: \"diffItemName\",\n    get: function get() {\n      var name = this.props.sourceItem.name || \"\";\n      var firstDate = this.leftDate;\n      var secondDate = this.rightDate;\n      var format = \"yyyy/mm/dd\";\n      if (!firstDate || !secondDate) {\n        return name;\n      } else {\n        var d1 = dateFormat(firstDate, format);\n        var d2 = dateFormat(secondDate, format);\n        return \"\".concat(name, \" - difference for dates \").concat(d1, \", \").concat(d2);\n      }\n    }\n  }, {\n    key: \"diffableItemsInWorkbench\",\n    get: function get() {\n      return this.props.terria.workbench.items.filter(function (item) {\n        return _DiffableMixin[\"default\"].isMixedInto(item) && item.canDiffImages;\n      });\n    }\n  }, {\n    key: \"previewStyle\",\n    get: function get() {\n      var _this$diffItem$styleS, _this$diffItem$styleS2;\n      return (_this$diffItem$styleS = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS === void 0 ? void 0 : (_this$diffItem$styleS2 = _this$diffItem$styleS[0]) === null || _this$diffItem$styleS2 === void 0 ? void 0 : _this$diffItem$styleS2.selectedId;\n    }\n  }, {\n    key: \"diffStyle\",\n    get: function get() {\n      return this.diffItem.diffStyleId;\n    }\n  }, {\n    key: \"availableDiffStyles\",\n    get: function get() {\n      var _this5 = this;\n      return (0, _filterOutUndefined[\"default\"])(this.diffItem.availableDiffStyles.map(function (diffStyleId) {\n        var _this5$diffItem$style, _this5$diffItem$style2, _this5$diffItem$style3;\n        return (_this5$diffItem$style = _this5.diffItem.styleSelectableDimensions) === null || _this5$diffItem$style === void 0 ? void 0 : (_this5$diffItem$style2 = _this5$diffItem$style[0]) === null || _this5$diffItem$style2 === void 0 ? void 0 : (_this5$diffItem$style3 = _this5$diffItem$style2.options) === null || _this5$diffItem$style3 === void 0 ? void 0 : _this5$diffItem$style3.find(function (style) {\n          return style.id === diffStyleId;\n        });\n      }));\n    }\n  }, {\n    key: \"leftDate\",\n    get: function get() {\n      return this.props.leftItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"rightDate\",\n    get: function get() {\n      return this.props.rightItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"diffLegendUrl\",\n    get: function get() {\n      return this.diffStyle && this.leftDate && this.rightDate && this.diffItem.getLegendUrlForStyle(this.diffStyle, this.leftDate, this.rightDate);\n    }\n  }, {\n    key: \"previewLegendUrl\",\n    get: function get() {\n      return this.previewStyle && this.diffItem.getLegendUrlForStyle(this.previewStyle);\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0.8);\n    }\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(e) {\n      var newSourceItem = this.diffableItemsInWorkbench.find(function (item) {\n        return item.uniqueId === e.target.value;\n      });\n      if (newSourceItem) this.props.changeSourceItem(newSourceItem);\n    }\n  }, {\n    key: \"changePreviewStyle\",\n    value: function changePreviewStyle(e) {\n      var _this$props$leftItem$, _this$props$leftItem$2, _this$props$rightItem, _this$props$rightItem2;\n      var styleId = e.target.value;\n      (_this$props$leftItem$ = this.props.leftItem.styleSelectableDimensions) === null || _this$props$leftItem$ === void 0 ? void 0 : (_this$props$leftItem$2 = _this$props$leftItem$[0]) === null || _this$props$leftItem$2 === void 0 ? void 0 : _this$props$leftItem$2.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n      (_this$props$rightItem = this.props.rightItem.styleSelectableDimensions) === null || _this$props$rightItem === void 0 ? void 0 : (_this$props$rightItem2 = _this$props$rightItem[0]) === null || _this$props$rightItem2 === void 0 ? void 0 : _this$props$rightItem2.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n    }\n  }, {\n    key: \"changeDiffStyle\",\n    value: function changeDiffStyle(e) {\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", e.target.value);\n    }\n  }, {\n    key: \"onUserPickingLocation\",\n    value: function onUserPickingLocation(_pickingLocation) {\n      this._isPickingNewLocation = true;\n    }\n  }, {\n    key: \"onUserPickLocation\",\n    value: function onUserPickLocation(pickedFeatures, pickedLocation) {\n      var _this$props = this.props,\n        leftItem = _this$props.leftItem,\n        rightItem = _this$props.rightItem;\n      var feature = pickedFeatures.features.find(function (f) {\n        return doesFeatureBelongToItem(f, leftItem) || doesFeatureBelongToItem(f, rightItem);\n      });\n      if (feature) {\n        leftItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        rightItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        this.location = pickedLocation;\n        this._locationPickError = false;\n      } else {\n        this._locationPickError = true;\n      }\n      this._isPickingNewLocation = false;\n    }\n  }, {\n    key: \"unsetDates\",\n    value: function unsetDates() {\n      var _this$props2 = this.props,\n        leftItem = _this$props2.leftItem,\n        rightItem = _this$props2.rightItem;\n      leftItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      rightItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      this.hideItem(leftItem);\n      this.hideItem(rightItem);\n    }\n  }, {\n    key: \"generateDiff\",\n    value: function generateDiff() {\n      if (this.leftDate === undefined || this.rightDate === undefined || this.diffStyle === undefined) {\n        return;\n      }\n      var terria = this.props.terria;\n      terria.overlays.remove(this.props.leftItem);\n      terria.overlays.remove(this.props.rightItem);\n      terria.workbench.add(this.diffItem);\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"name\", this.diffItemName);\n      this.diffItem.showDiffImage(this.leftDate, this.rightDate, this.diffStyle);\n\n      // If given, appply additional properties for the diff item\n      var diffItemProperties = this.diffItem.diffItemProperties;\n      if (diffItemProperties) {\n        (0, _updateModelFromJson[\"default\"])(this.diffItem, _CommonStrata[\"default\"].user, diffItemProperties);\n      }\n      terria.showSplitter = false;\n    }\n  }, {\n    key: \"resetTool\",\n    value: function resetTool() {\n      var terria = this.props.terria;\n      this.diffItem.clearDiffImage();\n      setDefaultDiffStyle(this.diffItem);\n      terria.overlays.add(this.props.leftItem);\n      terria.overlays.add(this.props.rightItem);\n      terria.workbench.remove(this.diffItem);\n      this.props.terria.showSplitter = true;\n      this.props.leftItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].LEFT);\n      this.props.rightItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].RIGHT);\n    }\n  }, {\n    key: \"setLocationFromActiveSearch\",\n    value: function () {\n      var _setLocationFromActiveSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var markerLocation, sourceItem, part, imageryProvider, promises, someSuccessful;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Look for any existing marker like from a search result and filter\n              // imagery at that location\n              markerLocation = (0, _LocationMarkerUtils.getMarkerLocation)(this.props.terria);\n              sourceItem = this.props.sourceItem;\n              if (!(markerLocation && _MappableMixin[\"default\"].isMixedInto(sourceItem))) {\n                _context2.next = 11;\n                break;\n              }\n              part = sourceItem.mapItems.find(function (p) {\n                return _MappableMixin.ImageryParts.is(p);\n              });\n              imageryProvider = part && _MappableMixin.ImageryParts.is(part) && part.imageryProvider;\n              if (!imageryProvider) {\n                _context2.next = 11;\n                break;\n              }\n              promises = [setTimeFilterFromLocation(this.props.leftItem, markerLocation, imageryProvider), setTimeFilterFromLocation(this.props.rightItem, markerLocation, imageryProvider)];\n              _context2.next = 9;\n              return Promise.all(promises);\n            case 9:\n              someSuccessful = _context2.sent.some(function (ok) {\n                return ok;\n              });\n              if (someSuccessful) {\n                (0, _mobx.runInAction)(function () {\n                  return _this6.location = markerLocation;\n                });\n              } else {\n                // If we cannot resolve imagery at the marker location, remove it\n                (0, _LocationMarkerUtils.removeMarker)(this.props.terria);\n              }\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function setLocationFromActiveSearch() {\n        return _setLocationFromActiveSearch.apply(this, arguments);\n      }\n      return setLocationFromActiveSearch;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      (0, _mobx.runInAction)(function () {\n        if (_this7.location === undefined) {\n          var _this7$diffItem$timeF = _this7.diffItem.timeFilterCoordinates,\n            latitude = _this7$diffItem$timeF.latitude,\n            longitude = _this7$diffItem$timeF.longitude,\n            height = _this7$diffItem$timeF.height;\n          if (latitude !== undefined && longitude !== undefined) {\n            _this7.location = {\n              latitude: latitude,\n              longitude: longitude,\n              height: height\n            };\n            // remove any active search location marker to avoid showing two markers\n            (0, _LocationMarkerUtils.removeMarker)(_this7.props.terria);\n          } else {\n            _this7.setLocationFromActiveSearch();\n          }\n        }\n      });\n    }\n\n    // i want to restructure the render so that there's 2 distinct \"showing diff\"\n    // or not states, right now intertwining them means way too many conditionals\n    // that confuse the required spacing etc.\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$diffItem$styleS3,\n        _this$diffItem$styleS4,\n        _this$diffItem$styleS5,\n        _this8 = this;\n      var _this$props3 = this.props,\n        terria = _this$props3.terria,\n        viewState = _this$props3.viewState,\n        sourceItem = _this$props3.sourceItem,\n        t = _this$props3.t,\n        theme = _this$props3.theme;\n      var isShowingDiff = this.diffItem.isShowingDiff;\n      var datesSelected = this.leftDate && this.rightDate;\n      var isReadyToGenerateDiff = this.location && datesSelected && this.diffStyle !== undefined;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n        large: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(DiffAccordion, {\n          viewState: viewState,\n          t: t,\n          children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(MainPanel, {\n            isMapFullScreen: viewState.isMapFullScreen,\n            styledMaxHeight: \"calc(100vh - \".concat(viewState.bottomDockHeight, \"px - 150px)\"),\n            children: [isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n                centered: true,\n                left: true,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledBackButton, {\n                  transparentBg: true,\n                  onClick: this.resetTool,\n                  $_css: theme.textLight,\n                  $_css2: theme.textLight,\n                  children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box.BoxSpan, {\n                    centered: true,\n                    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n                      light: true,\n                      styledWidth: \"16px\",\n                      glyph: _Icon.GLYPHS.arrowDown\n                    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      noFontSize: true,\n                      children: t(\"general.back\")\n                    })]\n                  })\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 3\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                medium: true,\n                textLight: true,\n                children: t(\"diffTool.differenceResultsTitle\")\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 2\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n              textLight: true,\n              children: t(\"diffTool.instructions.paneDescription\")\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 3\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(LocationAndDatesDisplayBox, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.area\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    medium: true,\n                    textLightDimmed: !this.location,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.title\") : t(\"diffTool.locationDisplay.noLocationSelected.title\")\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    light: true,\n                    textLight: true,\n                    small: true,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.description\") : t(\"diffTool.locationDisplay.noLocationSelected.description\")\n                  })]\n                })]\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.dates\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                  column: true,\n                  alignItemsFlexStart: true,\n                  children: [this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(A) \", dateFormat(this.leftDate, \"dd/mm/yyyy\")]\n                  }), !this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openLeftDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateA\")\n                    })\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                    bottom: 1\n                  }), this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(B) \", dateFormat(this.rightDate, \"dd/mm/yyyy\")]\n                  }), !this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openRightDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateB\")\n                    })\n                  }), isShowingDiff === false && this.leftDate && this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    onClick: this.unsetDates,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.changeDates\")\n                    })\n                  })]\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                value: sourceItem.uniqueId,\n                onChange: this.changeSourceItem,\n                label: t(\"diffTool.labels.sourceDataset\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  children: \"Select source item\"\n                }), this.diffableItemsInWorkbench.map(function (item) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: item.uniqueId,\n                    children: item.name\n                  }, item.uniqueId);\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                spacingBottom: true,\n                value: this.previewStyle,\n                onChange: this.changePreviewStyle,\n                label: t(\"diffTool.labels.previewStyle\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  value: \"\",\n                  children: t(\"diffTool.choosePreview\")\n                }), (_this$diffItem$styleS3 = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS3 === void 0 ? void 0 : (_this$diffItem$styleS4 = _this$diffItem$styleS3[0]) === null || _this$diffItem$styleS4 === void 0 ? void 0 : (_this$diffItem$styleS5 = _this$diffItem$styleS4.options) === null || _this$diffItem$styleS5 === void 0 ? void 0 : _this$diffItem$styleS5.map(function (style) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: style.id,\n                    children: style.name\n                  }, style.id);\n                })]\n              }), this.previewLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 2\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                  width: \"100%\",\n                  src: this.previewLegendUrl\n                })]\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 2\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n              viewState: viewState,\n              value: this.diffStyle || \"\",\n              onChange: this.changeDiffStyle,\n              label: t(\"diffTool.labels.differenceOutput\"),\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                disabled: true,\n                value: \"\",\n                children: t(\"diffTool.chooseDifference\")\n              }), this.availableDiffStyles.map(function (style) {\n                return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  value: style.id,\n                  children: style.name\n                }, style.id);\n              })]\n            }), isShowingDiff && this.diffLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                width: \"100%\",\n                src: this.diffLegendUrl\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(GenerateButton, {\n                onClick: this.generateDiff,\n                disabled: !isReadyToGenerateDiff,\n                \"aria-describedby\": \"TJSDifferenceDisabledButtonPrompt\",\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                  large: true,\n                  children: t(\"diffTool.labels.generateDiffButtonText\")\n                })\n              }), !isReadyToGenerateDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 3\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                  small: true,\n                  light: true,\n                  textLight: true,\n                  id: \"TJSDifferenceDisabledButtonPrompt\",\n                  children: t(\"diffTool.labels.disabledButtonPrompt\")\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 4\n                })]\n              })]\n            })]\n          })\n        }), isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(CloseDifferenceButton, {\n          primary: true,\n          rounded: true,\n          textProps: {\n            semiBold: true,\n            extraLarge: true\n          },\n          theme: theme,\n          activeStyles: true,\n          onClick: this.resetTool,\n          renderIcon: function renderIcon() {\n            return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              light: true,\n              styledWidth: \"13px\",\n              glyph: _Icon.GLYPHS.closeLight\n            });\n          },\n          iconProps: {\n            css: \"margin-right: 10px;\"\n          },\n          children: \"Close\"\n        }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(_LocationPicker[\"default\"], {\n          terria: terria,\n          location: this.location,\n          onPicking: this.onUserPickingLocation,\n          onPicked: this.onUserPickLocation\n        }), !isShowingDiff && /*#__PURE__*/_reactDom[\"default\"].createPortal(\n        /*#__PURE__*/\n        // Bottom Panel\n        (0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          fullWidth: true,\n          flexWrap: true,\n          backgroundColor: theme.dark,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonA\"),\n            item: this.props.leftItem,\n            externalOpenButton: this.openLeftDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.leftItem);\n            }\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(AreaFilterSelection, {\n            t: t,\n            location: this.location,\n            isPickingNewLocation: this._isPickingNewLocation\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonB\"),\n            item: this.props.rightItem,\n            externalOpenButton: this.openRightDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.rightItem);\n            }\n          })]\n        }), document.getElementById(\"TJS-BottomDockLastPortal\"))]\n      });\n    }\n  }]);\n  return Main;\n}(_react[\"default\"].Component), (_descriptor4 = _applyDecoratedDescriptor(_class5.prototype, \"location\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class5.prototype, \"_locationPickError\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, \"_isPickingNewLocation\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class5.prototype, \"locationPickerMessages\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"locationPickerMessages\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffItemName\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffItemName\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffableItemsInWorkbench\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffableItemsInWorkbench\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"availableDiffStyles\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"availableDiffStyles\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"leftDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"leftDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"rightDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"rightDate\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"diffLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"diffLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"previewLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class5.prototype, \"previewLegendUrl\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"showItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"showItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"hideItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"hideItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeSourceItem\", [_dec2], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeSourceItem\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changePreviewStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class5.prototype, \"changePreviewStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"changeDiffStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class5.prototype, \"changeDiffStyle\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickingLocation\", [_dec5], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickingLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"onUserPickLocation\", [_dec6], Object.getOwnPropertyDescriptor(_class5.prototype, \"onUserPickLocation\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"unsetDates\", [_dec7], Object.getOwnPropertyDescriptor(_class5.prototype, \"unsetDates\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"generateDiff\", [_dec8], Object.getOwnPropertyDescriptor(_class5.prototype, \"generateDiff\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"resetTool\", [_dec9], Object.getOwnPropertyDescriptor(_class5.prototype, \"resetTool\"), _class5.prototype), _applyDecoratedDescriptor(_class5.prototype, \"setLocationFromActiveSearch\", [_mobx.action], Object.getOwnPropertyDescriptor(_class5.prototype, \"setLocationFromActiveSearch\"), _class5.prototype)), _class5)) || _class4);\nvar DiffAccordionToggle = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool__DiffAccordionToggle\",\n  componentId: \"sc-3vyhxu-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.borderRadiusTop(theme.radius40Button);\n});\nvar DiffAccordion = function DiffAccordion(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChildren = _useState2[0],\n    setShowChildren = _useState2[1];\n  var t = props.t,\n    viewState = props.viewState;\n  var theme = (0, _styledComponents.useTheme)();\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionWrapper, {\n    isMapFullScreen: viewState.isMapFullScreen,\n    column: true,\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionToggle, {\n      paddedVertically: true,\n      paddedHorizontally: 2,\n      centered: true,\n      justifySpaceBetween: true,\n      backgroundColor: theme.colorSecondary,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        centered: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n          styledWidth: \"20px\",\n          light: true,\n          glyph: _Icon.GLYPHS.difference\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 1\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n          textLight: true,\n          semiBold: true\n          // font-size is non standard with what we have so far in terria,\n          // lineheight as well to hit nonstandard paddings\n          ,\n          styledFontSize: \"17px\",\n          styledLineHeight: \"30px\",\n          children: t(\"diffTool.title\")\n        })]\n      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox, {\n        centered: true,\n        $_css3: \"margin-right:-5px;\",\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return viewState.closeTool();\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n            textLight: true,\n            small: true,\n            semiBold: true,\n            uppercase: true,\n            children: t(\"diffTool.exit\")\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return setShowChildren(!showChildren);\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box.BoxSpan, {\n            paddedRatio: 1,\n            centered: true,\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              styledWidth: \"12px\",\n              light: true,\n              glyph: showChildren ? _Icon.GLYPHS.opened : _Icon.GLYPHS.closed\n            })\n          })\n        })]\n      })]\n    }), showChildren && props.children]\n  });\n};\nvar DiffAccordionWrapper = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  position: \"absolute\",\n  styledWidth: \"340px\"\n  // charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__DiffAccordionWrapper\",\n  componentId: \"sc-3vyhxu-1\"\n})([\"top:70px;left:0px;min-height:220px;margin-left:\", \"px;transition:margin-left 0.25s;\"], function (props) {\n  return props.isMapFullScreen ? 16 : parseInt(props.theme.workbenchWidth, 10) + 40;\n});\nvar MainPanel = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  overflowY: \"auto\",\n  paddedRatio: 2\n}).withConfig({\n  displayName: \"DiffTool__MainPanel\",\n  componentId: \"sc-3vyhxu-2\"\n})([\"\", \" background-color:\", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusBottom(theme.radius40Button);\n}, function (p) {\n  return p.theme.darkWithOverlay;\n});\nvar BackButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  secondary: true\n}).withConfig({\n  displayName: \"DiffTool__BackButton\",\n  componentId: \"sc-3vyhxu-3\"\n})([\"\"]);\nvar _StyledBackButton = (0, _styledComponents[\"default\"])(BackButton).withConfig({\n  displayName: \"DiffTool___StyledBackButton\",\n  componentId: \"sc-3vyhxu-4\"\n})([\"color:\", \";border-color:\", \";\"], function (p) {\n  return p.$_css;\n}, function (p) {\n  return p.$_css2;\n});\nvar CloseDifferenceButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DiffTool__CloseDifferenceButton\",\n  componentId: \"sc-3vyhxu-5\"\n})([\"position:absolute;left:50%;transform:translateX(-50%);top:18px;padding:0 20px;\"]);\nvar GenerateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  primary: true,\n  splitter: true,\n  fullWidth: true\n}).withConfig({\n  displayName: \"DiffTool__GenerateButton\",\n  componentId: \"sc-3vyhxu-6\"\n})([\"\"]);\nvar Selector = function Selector(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n    fullWidth: true,\n    column: true,\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"label\", {\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText, {\n        textLight: true,\n        $_css4: \"p {margin: 0;}\",\n        children: (0, _parseCustomMarkdownToReact.parseCustomMarkdownToReactWithOptions)(\"\".concat(props.label, \":\"), {\n          injectTermsAsTooltips: true,\n          tooltipTerms: props.viewState.terria.configParameters.helpContentTerms\n        })\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 1\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Select[\"default\"], _objectSpread(_objectSpread({}, props), {}, {\n        children: props.children\n      })), props.spacingBottom && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 2\n      })]\n    })\n  });\n};\nvar AreaFilterSelection = function AreaFilterSelection(props) {\n  var t = props.t,\n    location = props.location,\n    isPickingNewLocation = props.isPickingNewLocation;\n  var locationText = \"-\";\n  if (location) {\n    var _prettifyCoordinates = (0, _prettifyCoordinates2[\"default\"])(location.longitude, location.latitude, {\n        digits: 2\n      }),\n      longitude = _prettifyCoordinates.longitude,\n      latitude = _prettifyCoordinates.latitude;\n    locationText = \"\".concat(longitude, \" \").concat(latitude);\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox2, {\n    column: true,\n    centered: true,\n    styledMinWidth: \"230px\",\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n      centered: true,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n        light: true,\n        styledWidth: \"16px\",\n        glyph: _Icon.GLYPHS.location2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        right: 2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        extraLarge: true,\n        children: t(\"diffTool.labels.areaFilterSelection\")\n      })]\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n      bottom: 3\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n      styledMinHeight: \"40px\",\n      children: isPickingNewLocation ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText2, {\n        textLight: true,\n        extraExtraLarge: true,\n        bold: true\n        // Using legacy Loader.jsx means we override at a higher level to inherit\n        // this fills tyle\n        ,\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n          light: true,\n          message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n        })\n      }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        bold: true,\n        heading: true,\n        textAlignCenter: true,\n        children: locationText\n      })\n    })]\n  });\n};\nvar LocationAndDatesDisplayBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__LocationAndDatesDisplayBox\",\n  componentId: \"sc-3vyhxu-7\"\n})([\"color:\", \";padding:15px;> \", \":first-child{margin-bottom:13px;}> div > div:first-child{margin-right:5px;min-width:50px;}\"], function (p) {\n  return p.theme.textLight;\n}, _Box[\"default\"]);\nvar LegendImage = function LegendImage(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", _objectSpread(_objectSpread({}, props), {}, {\n    // Show the legend only if it loads successfully, so we start out hidden\n    style: {\n      display: \"none\",\n      marginTop: \"4px\"\n    },\n    onLoad: function onLoad(e) {\n      return e.currentTarget.style.display = \"block\";\n    },\n    onError: function onError(e) {\n      return e.currentTarget.style.display = \"none\";\n    }\n  }));\n};\nfunction createSplitItem(_x, _x2) {\n  return _createSplitItem.apply(this, arguments);\n}\n/**\n * If the item has only one available diff style, auto-select it\n */\nfunction _createSplitItem() {\n  _createSplitItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sourceItem, splitDirection) {\n    var terria, ref;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terria = sourceItem.terria;\n          ref = new _SplitItemReference[\"default\"]((0, _createGuid[\"default\"])(), terria);\n          ref.setTrait(_CommonStrata[\"default\"].user, \"splitSourceItemId\", sourceItem.uniqueId);\n          terria.addModel(ref);\n          _context3.next = 6;\n          return ref.loadReference();\n        case 6:\n          return _context3.abrupt(\"return\", (0, _mobx.runInAction)(function () {\n            var _newItem$styleSelecta, _newItem$styleSelecta2, _newItem$styleSelecta3;\n            if (ref.target === undefined) {\n              throw Error(\"failed to split item\");\n            }\n            var newItem = ref.target;\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", splitDirection);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"initialTimeSource\", \"none\");\n            if (hasOpacity(newItem)) {\n              // We want to show the item on the map only after date selection. At the\n              // same time we cannot set `show` to false because if we\n              // do so, date picking which relies on feature picking, will not work. So\n              // we simply set the opacity of the item to 0.\n              newItem.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n            }\n\n            // Override feature info template as the parent featureInfoTemplate might\n            // not be relevant for the difference item. This has to be done in the user\n            // stratum to override template set in definition stratum.\n            (0, _updateModelFromJson[\"default\"])(newItem, _CommonStrata[\"default\"].user, {\n              featureInfoTemplate: {\n                template: \"\"\n              }\n            });\n            setDefaultDiffStyle(newItem);\n\n            // Set the default style to true color style if it exists\n            var trueColor = (_newItem$styleSelecta = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta === void 0 ? void 0 : (_newItem$styleSelecta2 = _newItem$styleSelecta[0]) === null || _newItem$styleSelecta2 === void 0 ? void 0 : (_newItem$styleSelecta3 = _newItem$styleSelecta2.options) === null || _newItem$styleSelecta3 === void 0 ? void 0 : _newItem$styleSelecta3.find(function (style) {\n              return (0, _isDefined[\"default\"])(style.name) && style.name.search(/true/i) >= 0;\n            });\n            if (trueColor !== null && trueColor !== void 0 && trueColor.id) {\n              var _newItem$styleSelecta4, _newItem$styleSelecta5;\n              (_newItem$styleSelecta4 = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta4 === void 0 ? void 0 : (_newItem$styleSelecta5 = _newItem$styleSelecta4[0]) === null || _newItem$styleSelecta5 === void 0 ? void 0 : _newItem$styleSelecta5.setDimensionValue(_CommonStrata[\"default\"].user, trueColor.id);\n            }\n            terria.overlays.add(newItem);\n            return newItem;\n          }));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _createSplitItem.apply(this, arguments);\n}\nfunction setDefaultDiffStyle(item) {\n  if (item.diffStyleId !== undefined) {\n    return;\n  }\n  var availableStyles = (0, _filterOutUndefined[\"default\"])(item.availableDiffStyles.map(function (diffStyleId) {\n    var _item$styleSelectable, _item$styleSelectable2, _item$styleSelectable3;\n    return (_item$styleSelectable = item.styleSelectableDimensions) === null || _item$styleSelectable === void 0 ? void 0 : (_item$styleSelectable2 = _item$styleSelectable[0]) === null || _item$styleSelectable2 === void 0 ? void 0 : (_item$styleSelectable3 = _item$styleSelectable2.options) === null || _item$styleSelectable3 === void 0 ? void 0 : _item$styleSelectable3.find(function (style) {\n      return style.id === diffStyleId;\n    });\n  }));\n  if (availableStyles.length === 1) {\n    item.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", availableStyles[0].id);\n  }\n}\nfunction removeSplitItem(item) {\n  var terria = item.terria;\n  terria.overlays.remove(item);\n  if (item.sourceReference && terria.workbench.contains(item) === false) {\n    terria.removeModelReferences(item.sourceReference);\n  }\n}\nfunction doesFeatureBelongToItem(feature, item) {\n  var _feature$imageryLayer;\n  if (!_MappableMixin[\"default\"].isMixedInto(item)) return false;\n  var imageryProvider = (_feature$imageryLayer = feature.imageryLayer) === null || _feature$imageryLayer === void 0 ? void 0 : _feature$imageryLayer.imageryProvider;\n  if (imageryProvider === undefined) return false;\n  return item.mapItems.find(function (m) {\n    return _MappableMixin.ImageryParts.is(m) && m.imageryProvider === imageryProvider;\n  }) !== undefined;\n}\nfunction setTimeFilterFromLocation(item, location, im) {\n  var carto = new _Cartographic[\"default\"](_Math[\"default\"].toRadians(location.longitude), _Math[\"default\"].toRadians(location.latitude));\n  // We just need to set this to a high enough level supported by the service\n  var level = 30;\n  var tile = im.tilingScheme.positionToTileXY(carto, level);\n  return item.setTimeFilterFromLocation({\n    position: {\n      latitude: location.latitude,\n      longitude: location.longitude,\n      height: location.height\n    },\n    tileCoords: {\n      x: tile.x,\n      y: tile.y,\n      level: level\n    }\n  });\n}\nfunction hasOpacity(model) {\n  return (0, _hasTraits[\"default\"])(model, _ImageryProviderTraits[\"default\"], \"opacity\");\n}\nvar _default = exports[\"default\"] = (0, _hoistNonReactStatics[\"default\"])((0, _reactI18next.withTranslation)()((0, _styledComponents.withTheme)(DiffTool)), DiffTool);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DiffTool___StyledStyledIcon\",\n  componentId: \"sc-3vyhxu-8\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox\",\n  componentId: \"sc-3vyhxu-9\"\n})([\"\", \"\"], function (p) {\n  return p.$_css3;\n});\nvar _StyledText = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText\",\n  componentId: \"sc-3vyhxu-10\"\n})([\"\", \"\"], function (p) {\n  return p.$_css4;\n});\nvar _StyledBox2 = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox2\",\n  componentId: \"sc-3vyhxu-11\"\n})([\"@media (max-width:\", \"px){width:100%;}\"], function (props) {\n  return props.theme.md;\n});\nvar _StyledText2 = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText2\",\n  componentId: \"sc-3vyhxu-12\"\n})([\"fill:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.textLight;\n});","\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.date.to-iso-string.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _JulianDate = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/JulianDate\"));\nvar _CommonStrata = _interopRequireDefault(require(\"../../../Models/Definition/CommonStrata\"));\nvar _DateFormats = require(\"../../BottomDock/Timeline/DateFormats\");\nvar _Icon = _interopRequireWildcard(require(\"../../../Styled/Icon\"));\nvar _DateTimePicker = _interopRequireDefault(require(\"../../BottomDock/Timeline/DateTimePicker\"));\nvar _Text = _interopRequireWildcard(require(\"../../../Styled/Text\"));\nvar _Box = _interopRequireDefault(require(\"../../../Styled/Box\"));\nvar _Button = _interopRequireDefault(require(\"../../../Styled/Button\"));\nvar _Spacing = _interopRequireDefault(require(\"../../../Styled/Spacing\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nvar dateFormat = require(\"dateformat\");\nvar DatePicker = (_dec = _mobx.action.bound, _dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatePicker, _React$Component);\n  var _super = _createSuper(DatePicker);\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"isOpen\", _descriptor, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DatePicker, [{\n    key: \"currentDate\",\n    get: function get() {\n      var date = this.props.item.currentDiscreteJulianDate;\n      return date && _JulianDate[\"default\"].toDate(date);\n    }\n  }, {\n    key: \"formattedCurrentDate\",\n    get: function get() {\n      if (this.currentDate === undefined) {\n        return;\n      }\n      var dateFormatting = undefined; // TODO\n      var formattedDate = dateFormatting !== undefined ? dateFormat(this.currentDate, dateFormatting) : (0, _DateFormats.formatDateTime)(this.currentDate);\n      return formattedDate;\n    }\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      this.isOpen = !this.isOpen;\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the date button is clicked\n      e.stopPropagation();\n    }\n  }, {\n    key: \"setIsOpen\",\n    value: function setIsOpen(isOpen) {\n      this.isOpen = isOpen;\n    }\n  }, {\n    key: \"changeCurrentDate\",\n    value: function changeCurrentDate(date) {\n      this.props.item.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", date.toISOString());\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToPreviousDate\",\n    value: function moveToPreviousDate() {\n      this.props.item.moveToPreviousDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToNextDate\",\n    value: function moveToNextDate() {\n      this.props.item.moveToNextDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"onClickExternalButton\",\n    value: function onClickExternalButton(event) {\n      this.setIsOpen(true);\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the external button is clicked\n      event.stopPropagation();\n    }\n  }, {\n    key: \"registerExternalButtonClick\",\n    value: function registerExternalButtonClick() {\n      var _this$props$externalO;\n      (_this$props$externalO = this.props.externalOpenButton.current) === null || _this$props$externalO === void 0 ? void 0 : _this$props$externalO.addEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"unregisterExternalButtonClick\",\n    value: function unregisterExternalButtonClick(externalOpenButton) {\n      var _externalOpenButton$c;\n      (_externalOpenButton$c = externalOpenButton.current) === null || _externalOpenButton$c === void 0 ? void 0 : _externalOpenButton$c.removeEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unregisterExternalButtonClick(prevProps.externalOpenButton);\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterExternalButtonClick(this.props.externalOpenButton);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        heading = _this$props.heading,\n        item = _this$props.item,\n        t = _this$props.t;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        column: true,\n        centered: true,\n        flex: 1,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n            light: true,\n            styledWidth: \"21px\",\n            glyph: _Icon[\"default\"].GLYPHS.calendar2,\n            $_css: \"margin-top:-2px;\"\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n            right: 2\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n            textLight: true,\n            extraLarge: true,\n            children: heading\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 2\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(PrevButton, {\n            disabled: item.isPreviousDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.previousDateTitle\"),\n            onClick: this.moveToPreviousDate\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(DateButton, {\n            primary: true,\n            isOpen: this.isOpen,\n            onClick: this.toggleOpen,\n            title: t(\"diffTool.datePicker.dateButtonTitle\"),\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n              extraLarge: true,\n              children: this.formattedCurrentDate || \"-\"\n            })\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(NextButton, {\n            disabled: item.isNextDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.nextDateTitle\"),\n            onClick: this.moveToNextDate\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n          style: {\n            display: this.isOpen ? \"block\" : \"none\",\n            position: \"absolute\"\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_DateTimePicker[\"default\"], {\n            currentDate: this.currentDate,\n            dates: this.props.item.objectifiedDates,\n            onChange: this.changeCurrentDate,\n            openDirection: \"none\",\n            isOpen: this.isOpen,\n            onOpen: function onOpen() {\n              return _this2.setIsOpen(true);\n            },\n            onClose: function onClose() {\n              return _this2.setIsOpen(false);\n            }\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        })]\n      });\n    }\n  }]);\n  return DatePicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"isOpen\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, \"currentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"currentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"formattedCurrentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"formattedCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"toggleOpen\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"toggleOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"setIsOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"setIsOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeCurrentDate\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToPreviousDate\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToPreviousDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToNextDate\", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToNextDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClickExternalButton\", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickExternalButton\"), _class2.prototype)), _class2)) || _class);\nvar PagerButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  iconProps: {\n    css: \"margin-right:0;\"\n  }\n}).withConfig({\n  displayName: \"DatePicker__PagerButton\",\n  componentId: \"sc-11kes1x-0\"\n})([\"cursor:pointer;background-color:\", \";width:40px;border:1px solid transparent;\", \" flex-direction:column;\"], function (props) {\n  return props.theme.colorPrimary;\n}, function (_ref) {\n  var theme = _ref.theme;\n  return theme.centerWithFlex();\n});\nvar PrevButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon2, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__PrevButton\",\n  componentId: \"sc-11kes1x-1\"\n})([\"\", \" margin-right:1px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusLeft(theme.radius40Button);\n});\nvar NextButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon3, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__NextButton\",\n  componentId: \"sc-11kes1x-2\"\n})([\"\", \" margin-left:1px;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadiusRight(theme.radius40Button);\n});\nvar DateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DatePicker__DateButton\",\n  componentId: \"sc-11kes1x-3\"\n})([\"z-index:0;\", \";border-radius:0px;border:1px solid \", \";min-width:235px;@media (max-width:\", \"px){min-width:150px;}\"], function (props) {\n  return props.isOpen && \"z-index: 1000;\";\n}, function (props) {\n  return props.theme.colorPrimary;\n}, function (props) {\n  return props.theme.lg;\n});\nvar _default = exports[\"default\"] = (0, _reactI18next.withTranslation)()(DatePicker);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon\",\n  componentId: \"sc-11kes1x-4\"\n})([\"\", \"\"], function (p) {\n  return p.$_css;\n});\nvar _StyledStyledIcon2 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon2\",\n  componentId: \"sc-11kes1x-5\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledStyledIcon3 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon3\",\n  componentId: \"sc-11kes1x-6\"\n})([\"transform:rotate(270deg);\"]);","\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.array.reverse.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.set-prototype-of.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.object.create.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.array.is-array.js\");\nvar _mobx = require(\"mobx\");\nvar _mobxReact = require(\"mobx-react\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _Ellipsoid = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Ellipsoid\"));\nvar _Math = _interopRequireDefault(require(\"terriajs-cesium/Source/Core/Math\"));\nvar _LocationMarkerUtils = require(\"../../../Models/LocationMarkerUtils\");\nvar _MapInteractionMode = _interopRequireWildcard(require(\"../../../Models/MapInteractionMode\"));\nvar _Loader = _interopRequireDefault(require(\"../../Loader\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar LocationPicker = exports[\"default\"] = (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(LocationPicker, _React$Component);\n  var _super = _createSuper(LocationPicker);\n  function LocationPicker(props) {\n    var _this;\n    _classCallCheck(this, LocationPicker);\n    _this = _super.call(this, props);\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickMode\", _descriptor, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"currentPick\", _descriptor2, _assertThisInitialized(_this));\n    _initializerDefineProperty(_assertThisInitialized(_this), \"pickDisposer\", _descriptor3, _assertThisInitialized(_this));\n    (0, _mobx.makeObservable)(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(LocationPicker, [{\n    key: \"setupPicker\",\n    value: function setupPicker() {\n      var _this2 = this;\n      var _this$props = this.props,\n        terria = _this$props.terria,\n        location = _this$props.location,\n        onPicking = _this$props.onPicking,\n        onPicked = _this$props.onPicked;\n      this.pickMode = new _MapInteractionMode[\"default\"]({\n        message: \"\",\n        messageAsNode: /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {}),\n        uiMode: _MapInteractionMode.UIMode.Difference\n      });\n      addInteractionModeToMap(terria, this.pickMode);\n      if (location) showMarker(terria, location);\n      this.pickDisposer = (0, _mobx.reaction)(function () {\n        return _this2.pickMode.pickedFeatures;\n      }, (0, _mobx.action)(function (newPick) {\n        var _newPick$allFeaturesA;\n        if (newPick === undefined || newPick.pickPosition === undefined) {\n          return;\n        }\n        _this2.pickMode.customUi = function () {\n          return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n            message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n          });\n        };\n        var position = cartesianToDegrees(newPick.pickPosition);\n        showMarker(_this2.props.terria, position);\n        _this2.currentPick = newPick;\n        onPicking(position);\n        (_newPick$allFeaturesA = newPick.allFeaturesAvailablePromise) === null || _newPick$allFeaturesA === void 0 ? void 0 : _newPick$allFeaturesA.then(function () {\n          if (newPick === _this2.currentPick) {\n            onPicked(newPick, position);\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPicker\",\n    value: function destroyPicker() {\n      var _this$pickDisposer;\n      var terria = this.props.terria;\n      if (this.pickMode) {\n        removeInteractionModeFromMap(terria, this.pickMode);\n      }\n      (0, _LocationMarkerUtils.removeMarker)(terria);\n      this.pickMode = undefined;\n      this.currentPick = undefined;\n      (_this$pickDisposer = this.pickDisposer) === null || _this$pickDisposer === void 0 ? void 0 : _this$pickDisposer.call(this);\n      this.pickDisposer = undefined;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.destroyPicker();\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyPicker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return LocationPicker;\n}(_react[\"default\"].Component), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pickMode\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"currentPick\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"pickDisposer\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"setupPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"setupPicker\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"destroyPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"destroyPicker\"), _class2.prototype)), _class2)) || _class;\nfunction addInteractionModeToMap(terria, mode) {\n  terria.mapInteractionModeStack.push(mode);\n}\nfunction removeInteractionModeFromMap(terria, mode) {\n  var _terria$mapInteractio = terria.mapInteractionModeStack.slice(-1),\n    _terria$mapInteractio2 = _slicedToArray(_terria$mapInteractio, 1),\n    currentMode = _terria$mapInteractio2[0];\n  if (currentMode === mode) {\n    terria.mapInteractionModeStack.pop();\n  }\n}\nfunction showMarker(terria, location) {\n  (0, _LocationMarkerUtils.addMarker)(terria, {\n    name: \"User selection\",\n    location: location,\n    customMarkerIcon: require(\"../../../../wwwroot/images/difference-pin.png\")\n  });\n}\nfunction cartesianToDegrees(cartesian) {\n  var carto = _Ellipsoid[\"default\"].WGS84.cartesianToCartographic(cartesian);\n  return {\n    longitude: _Math[\"default\"].toDegrees(carto.longitude),\n    latitude: _Math[\"default\"].toDegrees(carto.latitude)\n  };\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAA2CAYAAAAyEzKAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAANgAAAAAbYi+LAAADOUlEQVRYCe1YPWgUQRT+3pEoqEWilSRBjSGNWKhga7DwBwTRKgqChXVM0igKGhRMFCXRQhsbFWOlIAhBm5ythRaCmCBGBAmIwRSx0EjW783tbnb3Zvbn7gqLe7A3M9977/tm3s7OLidIMW8QuyE4ihW2wA5em3it5/WL+A94+IAS3rJ9LhNsHSZJ3POYPoSTxC8xuTfpd44Fs/RdwTgmRZgZsZiIN4QOup/x2huJKdYVvOE0j8s4vgWJoQgFdpJ8ildH4Ky5FQoIDlPovXIYEW8EG7CIdxToqZk4mSj4hDbskhEslYxvETcbKqCkOmHlpQnLtJHAPK81CjTUBH9Yq80tJO3PJSD4wthH3LKz3NK6604xbytbt+nEBf0tDDzkjgo9L1jfE1rfAOF9vIGfeMLxkQCztuTXe9Jlda6CC1iH01EBdZkxcXYXdJxiXSrSmRKgrrKM2ol8vJyR36kieky4TfDd7aQny0/+Eu/Jx1QSYE9dfvLrSqZSSXjEcJsfs8UYPPsImtLnpIdbUg+38IipIhSeusA5dOO+DOC3dwdr8RlniF1nJdLK7XHL91aOlUFMM7ivirwaWCb0ldPZwnh9xrJsWm5jv5ZLj4C7WdG+v5Xt9pwCmnJPfyoi7XjK2c0o0DBTPuWlGRE+WCuc3bWGCSgR+QxvIGLI2zHJds706/+Z4yqUz1ilXOxS9S9LdtnH62vIY/h8llDEjNvwmELmbVaziuYrT8RiIqaGJZyP+It3mW94IpnWB5CfQmXeuH2RuHxdwWt+GvUlg2MriTiHWbaVyDi7W4kftgVaRfwPtYe2BCfm4YHrA88q4hNdYBu+CZ3kFccSV37RFeMU4azmmTjmSozhJYya+Bi4OnCKmJBuftIIz9s0U/823EoLSRXRY50i1psZktJv4kKgumPdwskwbumX3NIHkjgn8IplOliFJ4DUlYSxHgbY13dJ1JYprHim5RLhi2eG5/VEjI1jg8dA+yCXiEltxdUYRXIcc8YHue5JkOKdZYF84ypy5+ZfScBeQ9sUKVS0Zrma5SpUgULBzd3VLFehChQK/g93l/7roxa0OddTbCWe+f9qiS9h8z9WTg38A1O1vXOERmoNAAAAAElFTkSuQmCC\""],"sourceRoot":""}